{"version":3,"sources":["layouts/Basic/SideMenu/index.module.scss","components/Icon/index.module.scss","routes/Tree/index.module.scss","assets/styles/index.scss","lang/cn.ts","lang/en.ts","lang/index.ts","mock/article.ts","mock/auth.ts","mock/index.ts","components/Icon/index.tsx","layouts/Basic/SideMenu/index.tsx","layouts/Basic/NavBar/index.tsx","layouts/Basic/TagView/index.tsx","api/types.ts","layouts/Basic/index.tsx","routes/Login/index.tsx","routes/Dashboard/index.tsx","routes/Table/index.tsx","routes/Tree/index.tsx","routes/Form/index.tsx","routes/Nested/index.tsx","routes/Dynamic/index.tsx","routes/Dynamic/RoleOnly/index.tsx","routes/index.tsx","api/index.ts","stores/base.ts","utils/cookie.ts","stores/app.ts","stores/auth.ts","stores/demo.ts","App.tsx","serviceWorker.ts","index.tsx","layouts/Basic/NavBar/index.module.scss","layouts/Basic/index.module.scss","layouts/Basic/TagView/index.module.scss","routes/Login/index.module.scss","routes/Form/index.module.scss"],"names":["module","exports","route","dashboard","example","table","tree","form","nested","dynamic","dynamicIndex","adminOnly","roleAOnly","navMenu","home","logout","tableView","header","id","title","author","views","status","datetime","loginView","login","message","loginOK","loginNG","formView","name","zone","datetime_date_placeholder","datetime_time_placeholder","delivery","type","type_online","type_promotion","type_offline","type_brand","resource","resource_sponsor","resource_venue","detail","submitted","nameRequired","common","language","btn","reset","cancel","submit","elLocaleMap","cn","cnElLocale","en","enElLocale","ja","jaElLocale","configLocale","lang","toLowerCase","elLocale","i18n","use","i81next","initReactI18next","init","lng","react","useSuspense","resources","translation","enLocale","cnLocale","fetchArticles","Mock","mock","errno","errmsg","Random","setup","timeout","options","JSON","parse","body","username","password","data","loginByToken","token","fetchUserInfo","roles","getQueryValue","url","push","user","ArticleApis","AuthApis","key","indexOf","queryString","split","matchedParam","find","query","startsWith","Icon","this","props","family","size","children","style","fontSize","className","styles","icon","React","Component","defaultProps","SiderMenu","handleSelectMenuItem","path","history","location","pathname","routes","defaultActive","theme","siderMenu","onSelect","renderMenuItems","basePath","depth","menuItems","forEach","hidden","SubMenu","index","renderMenuTitle","Item","meta","t","withRouter","withTranslation","NavBar","handleCommand","command","onLogout","handleLanguage","onLangUpdate","state","folded","matchedRoutes","calcMatchedRoutes","matchedRoute","routePath","length","substring","concat","navbar","breadcrumb","separator","map","onCommand","menu","Menu","dropMenu","divided","avatar","src","findRoute","r","console","log","fullPath","ArticleStatus","TagView","inject","observer","unlisten","handleCloseTag","app","removeView","replace","visitedViews","handleNavTo","affixRoutes","filterAffixRoutes","affix","curRoute","initVisitedViews","listen","addView","tagView","view","renderTag","isActive","tag","onClick","closable","onClose","BasicLayout","handleLogout","auth","handleLang","updateSetting","params","value","callback","complete","forceUpdate","fail","basicLayout","aside","SideMenu","main","content","DEFAULT_STATE","loading","Login","rules","required","trigger","refKey","onFieldChange","setState","Object","assign","handleSubmit","validate","valid","success","Message","duration","handleReset","setTimeout","resetFields","loginPage","loginForm","ref","model","prop","autoComplete","placeholder","prepend","onChange","v","loginButton","Dashboard","TableDemo","demo","COLUMN","label","width","render","draft","published","columns","height","articles","DATA","OPTION","TreeDemo","highlightCurrent","ZONE_OPTIONS","date","time","types","FormDemo","labelWidth","opt","Option","Col","span","datePicker","timePicker","onText","offText","Group","Nested","Dynamic","RoleOnly","staticRoutes","component","hasLayout","Table","Tree","Form","cached","dynamicRoutes","sortRoutes","blankRoutes","basicRoutes","filterRouteByRoles","role","filteredRoute","cRoutes","cRoute","authorizedRoute","AppRoute","reaction","exact","Basic","renderBasicRoutes","from","to","routeNodes","when","isCached","childrenRouteNodes","request","config","Promise","resolve","axios","then","res","code","msg","catch","e","Base","payload","api","response","execCallback","action","KEYS","setAttr","Cookie","set","getAttr","get","updateLang","runInAction","CookieUtil","cachedViews","c","removeCacheView","removeVisitedView","findIndex","splice","affixViews","filter","observable","method","store","App","Boolean","window","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.d3054b5e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"siderMenu\":\"SideMenu_siderMenu__3tJ5F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__K6tBV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tree\":\"Tree_tree__vcTzw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuText\":\"#bfcbd9\",\"menuActiveText\":\"#409EFF\",\"subMenuActiveText\":\"#f4f4f5\",\"menuBg\":\"#304156\",\"menuHover\":\"#263445\",\"subMenuBg\":\"#1f2d3d\",\"subMenuHover\":\"#001528\",\"sideBarWidth\":\"210px\"};","export default {\n    route: {\n        dashboard: '首页',\n        example: '示例',\n        table: '表格',\n        tree: '树',\n        form: '表单',\n        nested: '嵌套',\n        'lvl1-A': '层级1-A',\n        'lvl1-B': '层级1-B',\n        'lvl2-A': '层级2-A',\n        'lvl2-B': '层级2-B',\n        'lvl2-C': '层级2-C',\n        'lvl3-A': '层级3-A',\n        'lvl3-B': '层级3-B',\n        dynamic: '动态',\n        dynamicIndex: '动态菜单项',\n        adminOnly: '仅管理员可见',\n        roleAOnly: '仅角色A可见'\n    },\n    navMenu: {\n        home: '首页',\n        logout: '退出登录'\n    },\n    tableView: {\n        table: {\n            header: {\n                id: 'ID',\n                title: '标题',\n                author: '作者',\n                views: '阅读数',\n                status: '状态',\n                datetime: '时间'\n            }\n        }\n    },\n    loginView: {\n        login: '登录',\n        message: {\n            loginOK: '登录成功！',\n            loginNG: '登录失败!'\n        }\n    },\n    formView: {\n        form: {\n            name: '活动名称',\n            zone: '活动区域',\n            datetime: '活动时间',\n            datetime_date_placeholder: '请选择活动日期',\n            datetime_time_placeholder: '请选择活动时间',\n            delivery: '即时配送',\n            type: '活动性质',\n            type_online: '美食/餐厅线上活动',\n            type_promotion: '地推活动',\n            type_offline: '线下主题活动',\n            type_brand: '单纯品牌曝光',\n            resource: '活动资源',\n            resource_sponsor: '线上品牌商赞助',\n            resource_venue: '线下场地免费',\n            detail: '活动形式'\n        },\n        message: {\n            submitted: '提交成功!',\n            nameRequired: '请填写活动名称'\n        }\n    },\n    common: {\n        language: '语言',\n        btn: {\n            reset: '重置',\n            cancel: '取消',\n            submit: '提交',\n        }\n    }\n}","export default {\n    route: {\n        dashboard: 'Dashboard',\n        example: 'Example',\n        form: 'Form',\n        table: 'Table',\n        tree: 'Tree',\n        nested: 'Nested',\n        'lvl1-A': 'lvl1-A',\n        'lvl1-B': 'lvl1-B',\n        'lvl2-A': 'lvl2-A',\n        'lvl2-B': 'lvl2-B',\n        'lvl2-C': 'lvl2-C',\n        'lvl3-A': 'lvl3-A',\n        'lvl3-B': 'lvl3-B',\n        dynamic: 'DynamicRoute',\n        dynamicIndex: 'DynamicRoute',\n        adminOnly: 'AdminOnly',\n        roleAOnly: 'RoleAOnly'\n    },\n    navMenu: {\n        home: 'Home',\n        logout: 'Logout'\n    },\n    tableView: {\n        table: {\n            header: {\n                id: 'ID',\n                title: 'Title',\n                author: 'Author',\n                views: 'Views',\n                status: 'Status',\n                datetime: 'Datetime'\n            }\n        }\n    },\n    loginView: {\n        login: 'Login',\n        message: {\n            loginOK: 'Logged In!',\n            loginNG: 'Login Failed!'\n        }\n    },\n    formView: {\n        form: {\n            name: 'Activity Name',\n            zone: 'Activity Zone',\n            datetime: 'Activity Date',\n            datetime_date_placeholder: 'Please select a date',\n            datetime_time_placeholder: 'Please select a time',\n            delivery: 'Instant Deliverty',\n            type: 'Activity Type',\n            type_online: 'Online activities',\n            type_promotion: 'Promotion activities',\n            type_offline: 'Offline activities',\n            type_brand: 'Brand exposure',\n            resource: 'Activity Resource',\n            resource_sponsor: 'Sponsor',\n            resource_venue: 'Venue',\n            detail: 'Activity Form'\n        },\n        message: {\n            submitted: 'Submitted!',\n            nameRequired: 'Activity Name is required'\n        }\n    },\n    common: {\n        language: 'Language',\n        btn: {\n            reset: 'Reset',\n            cancel: 'Cancel',\n            submit: 'Submit'\n        }\n    }\n}","import { i18n } from 'element-react';\nimport i81next from 'i18next';\nimport { initReactI18next } from \"react-i18next\";\n\nimport cnElLocale from 'element-react/src/locale/lang/zh-CN'\nimport enElLocale from 'element-react/src/locale/lang/en';\nimport jaElLocale from 'element-react/src/locale/lang/ja';\n\nimport cnLocale from './cn';\nimport enLocale from './en';\n\nconst elLocaleMap: Record<string, any> = {\n    cn: cnElLocale,\n    en: enElLocale,\n    ja: jaElLocale\n};\n\nexport const configLocale = function(lang: string): any {\n\n    lang = lang.toLowerCase();\n\n    const elLocale = elLocaleMap[lang] || enElLocale;\n    i18n.use(elLocale);\n\n    i81next.use(initReactI18next);\n    i81next.init({ \n        lng: lang,\n        react: {\n            useSuspense: false\n        },\n        resources: {\n            en: { translation: enLocale },\n            cn: { translation: cnLocale }\n        },\n    });\n}","import Mock from 'mockjs';\n\nexport const fetchArticles = Mock.mock(/api\\/article/, 'get', {\n    errno: 0,\n    errmsg: '',\n    'data|10': [{\n        'id|+1': 1,\n        'title': '@sentence',\n        'author': '@first',\n        'views|5-100': 100,\n        'status|0-2': 1,\n        'datetime': '@datetime'\n    }]\n});","import Mock from 'mockjs';\nimport { getQueryValue } from './index';\n\nconst Random = Mock.Random;\nMock.setup({ timeout: '1000' });\n\nexport const login = Mock.mock('/api/login', 'post', (options: any) => {\n\n    const { username, password } = JSON.parse(options.body);\n    if ((username === 'admin' && password === 'admin') ||\n        (username === 'guest' && password === 'guest')) {\n        return {\n            errno: 0,\n            errmsg: '',\n            data: username\n        }\n    }\n\n    return {\n        errno: 401,\n        errmsg: 'Invalid password',\n        data: null\n    };\n});\n\n\nexport const loginByToken = Mock.mock('/api/login?method=token', 'post', (options: any) => {\n\n    const token = options.body;\n    if (token === 'admin' || token === 'guest') {\n        return {\n            errno: 0,\n            errmsg: '',\n            data: token\n        }\n    }\n\n    return {\n        errno: 401,\n        errmsg: 'Invalid Token',\n        data: null\n    };\n});\n\nexport const fetchUserInfo = Mock.mock(/api\\/userInfo\\?/, 'get', (options: any) => {\n\n    const name = getQueryValue(options.url, 'token');\n    const roles = [];\n    if (name === 'admin') {\n        roles.push('admin');\n    } else {\n        roles.push('roleA');\n    }\n\n    return {\n        errno: 0,\n        errmsg: '',\n        data: {\n            user: {\n                id: Random.id(),\n                name: Random.name()\n            },\n            roles: roles\n        }\n    }\n});","\nimport * as ArticleApis from './article';\nimport * as AuthApis from './auth';\n\nexport default {\n    ...ArticleApis,\n    ...AuthApis\n};\n\nexport const getQueryValue = function(url: string, key: string): string | null {\n\n    if (!url || url.indexOf('?') < 0) return null;\n\n    const queryString = url.split('?')[1];\n    if (!queryString) return null;\n\n    const queries = queryString.split('&');\n    const matchedParam = queries.find(query => query.startsWith(key + '='));\n    if (!matchedParam) return null;\n\n    return matchedParam.split('=')[1];\n}","import React from 'react';\n\nimport styles from './index.module.scss';\n\nexport interface IconProps {\n    family?: string;\n    name: string;\n    size?: number;\n}\n\nexport default class Icon extends React.Component<IconProps> {\n\n    static defaultProps = {\n        family: 'iconfont',\n        size: 16\n    };\n\n    render() {\n\n        const { family, name, size, children } = this.props;\n        const style = {\n            fontSize: size\n        };\n\n        return (\n            <span className={styles.icon}>\n                <i className={family + ' ' + 'icon-' + name} style={style}>\n                    \n                </i>\n                { children ?  <span>{children}</span> : null }\n            </span>\n        )\n    }\n}","import React from 'react';\nimport { Menu } from 'element-react';\nimport { withTranslation, WithTranslation } from 'react-i18next';\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { RouteItem } from '../../../routes';\nimport Icon from '../../../components/Icon';\n\nimport styles from './index.module.scss';\nimport './index.module.scss';\n\nexport interface MenuProps extends RouteComponentProps, WithTranslation {\n  routes: RouteItem[];\n}\n\n\nclass SiderMenu extends React.Component<MenuProps, {}> {\n\n  render() {\n\n    const { routes, history } = this.props;\n    const pathname = history.location.pathname;\n\n    return (\n      <Menu defaultActive={pathname} theme='dark' className={styles.siderMenu} onSelect={this.handleSelectMenuItem}>\n        { this.renderMenuItems(routes) }\n      </Menu>\n    );\n  }\n\n  renderMenuItems(routes: RouteItem[], basePath='', depth=0) {\n\n    let menuItems: JSX.Element[] = [];\n\n    routes.forEach(route => {\n\n      if (route.hidden) return;\n\n      if (!route.children) {\n        menuItems.push(\n          <Menu.Item key={basePath + route.path} index={basePath + route.path} className={'menuitem_lvl' + depth}>\n            { this.renderMenuTitle(route, route.name)}\n          </Menu.Item>\n        )\n      } else {\n        menuItems.push(\n          <Menu.SubMenu key={basePath + route.path} index={basePath + route.path} title={this.renderMenuTitle(route, route.name)} className={'submenu_lvl' + depth}>\n            { this.renderMenuItems(route.children, basePath + route.path, depth+1) }\n          </Menu.SubMenu>\n        )\n      }\n    });\n    return menuItems;\n  }\n\n  handleSelectMenuItem = (path: string) => {\n    if (this.props.history.location.pathname !== path) {\n      this.props.history.push(path);\n    }\n  }\n\n  renderMenuTitle(route: RouteItem, title?: string) {\n\n    if (route.meta && route.meta.icon) {\n      return <Icon name={route.meta!.icon}>{this.props.t('route.' + title)}</Icon>\n    }\n    return <span>{title}</span>\n  }\n}\n\nexport default withRouter(withTranslation()(SiderMenu));","import React from 'react';\nimport { withTranslation, WithTranslation } from 'react-i18next';\nimport { Breadcrumb, Dropdown } from 'element-react';\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\n\nimport Icon from '../../../components/Icon';\n\nimport styles from './index.module.scss';\nimport { RouteItem } from '../../../routes';\n\ninterface NavBarProps extends RouteComponentProps, WithTranslation {\n    routes: RouteItem[];\n    onLogout: Function;\n    onLangUpdate: Function;\n}\n\ninterface NavBarState {\n    folded: boolean;\n}\n\n\nfunction calcMatchedRoutes(path: string, routes: RouteItem[]): RouteItem[] {\n\n    const matchedRoute = routes.find(route => {\n        const routePath = route.path;\n        if (path === '' && routePath === '') {\n            return true;\n        }\n        else if (routePath !== '' && path.indexOf(routePath) === 0) {\n            return true;\n        }\n        else if (routePath.startsWith('/:') && path.length > 1) {\n            return true;\n        }\n\n        return false;\n    });\n\n    if (!matchedRoute) {\n        return [];\n    } else if (path === matchedRoute.path) {\n        return [matchedRoute];\n    } else if (path.indexOf('/', 1) > 0){\n        path = path.substring(path.indexOf('/', 1));\n        return [matchedRoute].concat(calcMatchedRoutes(path, matchedRoute.children!));\n    } else {\n        return [matchedRoute];\n    }\n}\n\nclass NavBar extends React.Component<NavBarProps, NavBarState> {\n\n    constructor(props: NavBarProps) {\n        super(props);\n\n        this.state = {\n            folded: false\n        }\n    }\n\n    render() {\n\n        const { history, routes, t } = this.props;\n        const matchedRoutes = calcMatchedRoutes(history.location.pathname, routes);\n\n        // const { folded } = this.state;\n\n        return (\n            <div className={styles.navbar}>\n                {/* <span className={styles.fold} onClick={() => this.setState({ folded: !folded })}>\n                    <Icon size={20} name={ folded ? 'menu-fold' : 'menu-unfold' } />\n                </span> */}\n                <Breadcrumb className={styles.breadcrumb} separator='/'>\n                    {\n                        matchedRoutes.map(route =>\n                            <Breadcrumb.Item>\n                                <span>{t('route.' + route.name)}</span>\n                            </Breadcrumb.Item>\n                        )\n                    }\n                </Breadcrumb>\n                <Dropdown className={styles.language} onCommand={this.handleLanguage} menu={(\n                    <Dropdown.Menu>\n                        <Dropdown.Item command='en'>English</Dropdown.Item>\n                        <Dropdown.Item command='cn'>简体中文</Dropdown.Item>\n                    </Dropdown.Menu>\n                )}>\n                    <span>\n                        <span>{t('common.language')}</span>\n                        <Icon size={8} name='caret-down' />\n                    </span>\n                </Dropdown>\n                <Dropdown className={styles.dropMenu} onCommand={this.handleCommand} menu={(\n                    <Dropdown.Menu>\n                        <Dropdown.Item command='home'>{t('navMenu.home')}</Dropdown.Item>\n                        <Dropdown.Item>Github</Dropdown.Item>\n                        <Dropdown.Item divided command='logout'>{t('navMenu.logout')}</Dropdown.Item>\n                    </Dropdown.Menu>\n                )}>\n                    <span className={styles.avatar}>\n                        <img src=\"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/80/h/80\" />\n                        <Icon size={8} name='caret-down' />\n                    </span>\n                </Dropdown>\n            </div>\n        );\n    }\n\n    handleCommand = (command: string) => {\n\n        if (command === 'home') {\n            if (this.props.history.location.pathname !== '/dashboard') {\n                this.props.history.push('/dashboard');\n            }\n        } else if (command === 'logout') {\n            this.props.onLogout();\n        }\n    }\n\n    handleLanguage = (lang: string) => {\n        this.props.onLangUpdate(lang);\n    }\n}\n\nexport default withRouter(withTranslation()(NavBar));","import React from 'react';\nimport { withTranslation, WithTranslation } from 'react-i18next';\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { Tag } from 'element-react';\nimport { inject, observer } from 'mobx-react';\nimport { AppState } from '../../../stores/app';\nimport { RouteItem } from '../../../routes';\n\nimport styles from './index.module.scss';\nimport { UnregisterCallback } from 'history';\n\nexport interface TagViewProps extends RouteComponentProps, WithTranslation {\n    routes: RouteItem[];\n    app?: AppState\n}\n\nfunction findRoute(routes: RouteItem[], pathname: string, basePath=''): RouteItem | undefined {\n\n    if (routes.length === 0) return undefined;\n    \n    const route = routes.find(r => pathname.startsWith(basePath + r.path));\n    if (!route) return undefined;\n\n    console.log(basePath + route.path, pathname);\n    if (basePath + route.path === pathname) {\n        route.fullPath = basePath + route.path;\n        return route;\n    }\n\n    if (!route.children) return undefined;\n    return findRoute(route.children, pathname, basePath + route.path);\n}\n\nfunction filterAffixRoutes(routes: RouteItem[], basePath=''): RouteItem[] {\n\n    const affixRoutes: RouteItem[] = [];\n    routes.map(route => {\n\n        if (route.meta && route.meta.affix) {\n            route.fullPath = basePath + route.path;\n            affixRoutes.push(route);\n        }\n\n        if (route.children) {\n            affixRoutes.concat(filterAffixRoutes(route.children));\n        }\n    });\n\n    return affixRoutes;\n}\n\n@inject('app')\n@observer\nclass TagView extends React.Component<TagViewProps> {\n\n    unlisten: UnregisterCallback = () => {};\n\n    componentDidMount() {\n\n        const { app, history, routes } = this.props;\n\n        const affixRoutes = filterAffixRoutes(routes);\n        const curRoute = findRoute(routes, history.location.pathname);\n        if (curRoute && (!curRoute.meta || !curRoute!.meta.affix)) {\n            affixRoutes.push(curRoute);\n        }\n        app!.initVisitedViews(affixRoutes);\n\n        this.unlisten = history.listen(location => {\n            const curRoute = findRoute(this.props.routes, location.pathname);\n            if (curRoute) {\n                app?.addView(curRoute);\n            }\n        });\n    }\n\n    componentWillUnmount() {\n        this.unlisten();\n    }\n\n    render() {\n\n        const views = this.props.app!.visitedViews;\n        return (\n            <div className={styles.tagView}>\n                { views.map(view => this.renderTag(view)) }\n            </div>\n        )\n    }\n\n    renderTag(route: RouteItem) {\n\n        const { history, t } = this.props;\n\n        const isActive = route.fullPath === history.location.pathname;\n        console.log('path=' + route.path + ' fullPath=' + route.fullPath);\n\n        if (route.meta && route.meta.affix) {\n            return (\n                <Tag className={styles.tag} type={isActive ? 'success' : 'primary' } key={route.path}>\n                    <span onClick={() => this.handleNavTo(route)}>\n                        {t('route.' + route.name)}\n                    </span>\n                </Tag>\n            )\n        } else {\n            return (\n                <Tag \n                    className={styles.tag} type={isActive ? 'success' : 'primary' } key={route.path} closable \n                    onClose={() => this.handleCloseTag(route)}>\n                    <span onClick={() => this.handleNavTo(route)}>\n                        {t('route.' + route.name)}\n                    </span>\n                </Tag>\n            )\n        }\n    }\n\n    handleCloseTag = (route: RouteItem) => {\n\n        const { history, app } = this.props;\n\n        app!.removeView(route);\n        history.replace(app!.visitedViews[app!.visitedViews.length - 1].fullPath!);\n    }\n\n    handleNavTo = (route: RouteItem) => {\n        this.props.history.replace(route.fullPath!);\n    }\n}\n\nexport default withRouter(withTranslation()(TagView));","\nexport interface ActionPayload {\n    params?: any;\n    callback?: {\n        success: Function;\n        fail: Function;\n        complete: Function\n    }\n}\n\nexport interface ApiResponse {\n    code: number;\n    data: any;\n    msg: string;\n}\n\nexport enum ArticleStatus {\n    draft,\n    published,\n    deleted,\n}\n\nexport interface Article {\n    id: number;\n    title: string;\n    author: string;\n    views: number;\n    status: number;\n    datetime: string;\n}\n\nexport interface User {\n    id: number;\n    name: string;\n}","import React from 'react';\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { inject, observer } from 'mobx-react';\nimport SideMenu from './SideMenu';\nimport NavBar from './NavBar';\n\nimport styles from './index.module.scss';\nimport { RouteItem } from '../../routes';\nimport { AuthState } from '../../stores/auth';\nimport { AppState } from '../../stores/app';\nimport TagView from './TagView';\n\nexport interface BasicLayoutProps extends RouteComponentProps {\n  routes: RouteItem[];\n  auth?: AuthState;\n  app?: AppState;\n}\n\ninterface BasicLayoutState {\n\n}\n\n\n@inject('auth', 'app')\n@observer\nclass BasicLayout extends React.Component<BasicLayoutProps, BasicLayoutState> {\n\n  componentDidMount() {\n\n    if (this.props.auth!.token === '') {\n      this.props.history.replace('/login');\n    } else {\n      this.props.auth!.loginByToken({\n        callback: {\n          fail: () => this.props.history.replace('/login')\n        }\n      });\n    }\n  }\n\n  render() {\n\n    const { routes } = this.props;\n\n    return (\n      <div className={styles.basicLayout}>\n        <div className={styles.aside}>\n          <SideMenu routes={routes} />\n        </div>\n        <div className={styles.main}>\n          <div className={styles.header}>\n            <NavBar \n              routes={routes} \n              onLogout={this.handleLogout}\n              onLangUpdate={this.handleLang}\n            />\n            <TagView routes={routes} />\n          </div>\n          <div className={styles.content}>\n            { this.props.children }\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  handleLogout = () => {\n    this.props.auth!.logout();\n    this.props.history.replace('/login');\n  }\n\n  handleLang = (lang: string) => {\n    this.props.app!.updateSetting({\n      params: { key: 'lang', value: lang },\n      callback: {\n        complete: () => this.forceUpdate()\n      }\n    })\n  }\n}\n\nexport default withRouter(BasicLayout);","import React from 'react';\nimport { withTranslation, WithTranslation } from 'react-i18next';\nimport { Form, Input, Button, Message } from 'element-react';\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { inject, observer } from 'mobx-react';\n\n\nimport Icon from '../../components/Icon';\n\nimport styles from './index.module.scss';\nimport { AuthState } from '../../stores/auth';\n\ninterface LoginProps extends RouteComponentProps, WithTranslation {\n  auth?: AuthState\n}\n\ninterface LoginState {\n  username: string;\n  password: string;\n  loading: boolean;\n}\n\ninterface IFormKey {\n  form?: Form\n}\n\nconst DEFAULT_STATE = {\n  username: 'admin',\n  password: 'admin',\n  loading: false,\n}\n\n@inject('auth')\n@observer\nclass Login extends React.Component<LoginProps, LoginState> {\n\n  constructor(props: any) {\n    super(props);\n\n    this.state = DEFAULT_STATE;\n  }\n\n  componentDidMount() {\n    console.log(this.props);\n  }\n\n  rules = {\n    username: [\n      { required: true, message: 'Please input username', trigger: 'blur' }\n    ],\n    password: [\n      { required: true, message: 'Please input password', trigger: 'blur' }\n    ]\n  };\n\n  refKey: IFormKey = {};\n\n  onFieldChange = (key: string, value: any) => {\n    this.setState(Object.assign({}, this.state, { [key]: value }));\n  }\n\n  render() {\n\n    const { username, password, loading } = this.state;\n    const { t } = this.props;\n\n    return (\n      <div className={styles.loginPage}>\n        <div className={styles.loginForm}>\n          <Form ref={(ref: any) => this.refKey.form = ref} model={this.state} rules={this.rules} >\n            <Form.Item prop='username'>\n              <Input \n                value={username} autoComplete='off' placeholder='admin / guest'\n                prepend={<Icon name='user' />}\n                onChange={v => this.onFieldChange('username', v)} />\n            </Form.Item>\n            <Form.Item prop='password'>\n              <Input \n                value={password} autoComplete='off' type='password' placeholder='admin / guest'\n                prepend={<Icon name='lock' />} \n                onChange={v => this.onFieldChange('password', v)} />\n            </Form.Item>\n          </Form>\n\n          <Button loading={loading} className={styles.loginButton} type='primary' onClick={this.handleSubmit}>\n            {t('loginView.login')}\n          </Button>\n        </div>\n      </div>\n    )\n  }\n\n  handleSubmit = () => {\n\n    const { t } = this.props;\n\n    this.refKey.form!.validate(valid => {\n      if(valid) {\n\n        this.setState({ loading: true });\n\n        const { username, password } = this.state;\n        this.props.auth!.login({\n          params: { username, password },\n          callback: {\n            success: () => {\n              Message({\n                message: t('loginView.message.loginOK'),\n                type: 'success',\n                duration: 1000,\n                onClose: () => this.props.history.replace('/')\n              });\n            },\n            fail: () => \n              Message({ \n                message: t('loginView.message.loginNG'), \n                type: 'error', \n                duration: 1000 \n              }),\n            complete: () => {\n              this.setState({ loading: false });\n            }\n          }\n        });\n      } else {\n        return false;\n      }\n    });\n  }\n\n  handleReset = () => {\n    this.setState(DEFAULT_STATE, () =>  setTimeout(() => this.refKey.form!.resetFields(), 100));\n  }\n}\n\n\nexport default withRouter(withTranslation()(Login));","import React from 'react';\n\nexport default class Dashboard extends React.Component {\n\n  render() {\n    return (\n      <div>\n        Dashboard\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { withTranslation, WithTranslation } from 'react-i18next';\nimport { inject, observer } from 'mobx-react';\nimport { Table, Tag } from 'element-react';\nimport { DemoState } from '../../stores/demo';\nimport Icon from '../../components/Icon';\nimport { ArticleStatus } from '../../api/types';\n\n\ninterface TableDemoProps extends WithTranslation {\n  demo: DemoState\n}\n\n@inject('demo')\n@observer\nclass TableDemo extends React.Component<TableDemoProps> {\n\n  \n\n  componentDidMount() {\n    this.props.demo.fetchArticles();\n  }\n\n  render() {\n\n    const { demo, t } = this.props;\n\n    const COLUMN = [\n      { label: t('tableView.table.header.id'), prop: 'id', width: 60 },\n      { label: t('tableView.table.header.title'), prop: 'title' },\n      { label: t('tableView.table.header.author'), prop: 'author', width: 120 },\n      { label: t('tableView.table.header.views'), prop: 'views', width: 120 },\n      { \n        label: t('tableView.table.header.status'), prop: 'status', width: 120,\n        render: (data:any) => {\n          if (data.status === ArticleStatus.draft) {\n            return <Tag type='primary'>draft</Tag>\n          } else if (data.status === ArticleStatus.published) {\n            return <Tag type='success'>published</Tag>\n          } else {\n            return <Tag type='danger'>deleted</Tag>\n          }\n        }\n      },\n      { \n        label: t('tableView.table.header.datetime'), width: 240, \n        render: (data:any) => <Icon size={14} name='clock-circle'>{data.datetime}</Icon>\n      },\n    ];\n\n    return (\n      <Table \n        style={{width: '100%'}}\n        columns={COLUMN}\n        height={600}\n        data={demo.articles}\n      />\n    );\n  }\n}\n\nexport default withTranslation()(TableDemo);","import React from 'react';\nimport { Tree } from 'element-react';\n\nimport styles from './index.module.scss';\n\nconst DATA = [\n  {\n    label: 'lvl1-A',\n    children: [\n      { label: 'lvl2-A1' },\n      {\n        label: 'lvl2-A2',\n        children: [\n          { label: 'lvl3-A1' },\n          { label: 'lvl3-A2' },\n          { label: 'lvl3-A3' }\n        ]\n      }\n    ]\n  },\n  {\n    label: 'lvl1-B',\n    children: [\n      { label: 'lvl2-B1' },\n      {\n        label: 'lvl2-B2',\n        children: [\n          { label: 'lvl3-B1' },\n          { label: 'lvl3-B2' },\n        ]\n      }\n    ]\n  },\n  {\n    label: 'lvl1-C',\n    children: [\n      { label: 'lvl2-C1' },\n      {\n        label: 'lvl2-C2',\n        children: [\n          { label: 'lvl3-C1' },\n        ]\n      }\n    ]\n  }\n];\n\nconst OPTION = { label: 'label', children: 'children' };\n\nexport default class TreeDemo extends React.Component {\n\n  render() {\n    return (\n      <div>\n        <Tree className={styles.tree} data={DATA} options={OPTION} highlightCurrent />\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { withTranslation, WithTranslation } from 'react-i18next';\nimport { Form, Input, Select, DatePicker, Layout, TimePicker, Switch, Checkbox, Radio, Button, Message } from 'element-react';\n\nimport styles from './index.module.scss';\n\nconst ZONE_OPTIONS = [\n  { label: 'zone1', value: 0 },\n  { label: 'zone2', value: 1 },\n  { label: 'zone3', value: 2 },\n];\n\ninterface FormDemoState {\n  name: string;\n  zone: number;\n  date: string;\n  time: string;\n  delivery: boolean;\n  types: string[];\n  resource: number;\n  detail: string;\n}\n\ninterface IFormKey {\n  form?: Form\n}\n\nconst DEFAULT_STATE = {\n  name: '',\n  zone: 0,\n  date: '',\n  time: '',\n  delivery: false,\n  types: [],\n  resource: 0,\n  detail: ''\n};\n\ninterface FormDemoProps extends WithTranslation {\n\n}\n\nclass FormDemo extends React.Component<FormDemoProps, FormDemoState> {\n\n  constructor(props: any) {\n    super(props);\n\n    this.state = DEFAULT_STATE;\n  }\n\n  rules = {\n    name: [\n      { required: true, message: this.props.t('formView.message.nameRequired'), trigger: 'blur' }\n    ]\n  };\n\n  refKey: IFormKey = {};\n\n  onFieldChange = (key: string, value: any) => {\n    this.setState(Object.assign({}, this.state, { [key]: value }));\n  }\n\n  render() {\n\n    const { name, zone, date, time, delivery, types, resource, detail } = this.state;\n    const { t } = this.props;\n\n    return (\n      <div>\n        <Form ref={(ref: any) => this.refKey.form = ref} model={this.state} rules={this.rules} labelWidth=\"180\">\n          <Form.Item label={t('formView.form.name')} prop='name'>\n            <Input value={name} autoComplete='off' onChange={v => this.onFieldChange('name', v)} />\n          </Form.Item>\n          <Form.Item label={t('formView.form.zone')} prop='zone'>\n            <Select value={zone} placeholder='Please select a zone'>\n              {\n                ZONE_OPTIONS.map(opt => \n                  <Select.Option key={opt.value} label={opt.label} value={opt.value} />\n                )\n              }\n            </Select>\n          </Form.Item>\n          <Form.Item label={t('formView.form.datetime')} >\n            <Layout.Col span='11'>\n              <Form.Item prop='date' labelWidth='0px'>\n                <DatePicker \n                  className={styles.datePicker} value={date}\n                  placeholder={t('formView.form.datetime_date_placeholder')} \n                  onChange={v => this.onFieldChange('date', v)} />\n              </Form.Item>\n            </Layout.Col>\n            <Layout.Col span='2'>\n              <span className={styles.separator}>-</span>\n            </Layout.Col>\n            <Layout.Col span='11'>\n              <Form.Item prop='time' labelWidth='0px'>\n                <TimePicker \n                  className={styles.timePicker} value={time} \n                  placeholder={t('formView.form.datetime_time_placeholder')} \n                  onChange={v => this.onFieldChange('time', v)} />\n              </Form.Item>\n            </Layout.Col>\n          </Form.Item>\n          <Form.Item label={t('formView.form.delivery')} prop='delivery'>\n            <Switch onText='' offText='' value={delivery} onChange={v => this.onFieldChange('delivery', v)} />\n          </Form.Item>\n          <Form.Item label={t('formView.form.type')} prop='types'>\n            <Checkbox.Group value={types} onChange={v => this.onFieldChange('type', v)}>\n              <Checkbox label={t('formView.form.type_online')!} />\n              <Checkbox label={t('formView.form.type_promotion')!} />\n              <Checkbox label={t('formView.form.type_offline')!} />\n              <Checkbox label={t('formView.form.type_brand')!} />\n            </Checkbox.Group>\n          </Form.Item>\n          <Form.Item label={t('formView.form.resource')} prop='resource'>\n            <Radio.Group value={resource}  onChange={v => this.onFieldChange('resource', v)}>\n              <Radio value={t('formView.form.resource_sponsor')!} />\n              <Radio value={t('formView.form.resource_venue')!} />\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label={t('formView.form.detail')} prop='detail'>\n            <Input value={detail} type='textarea' onChange={v => this.onFieldChange('detail', v)} />\n          </Form.Item>\n          <Form.Item>\n            <Button type='primary' onClick={this.handleSubmit}>{t('common.btn.submit')}</Button>\n            <Button>{t('common.btn.cancel')}</Button>\n            <Button type='warning' onClick={this.handleReset}>{t('common.btn.reset')}</Button>\n          </Form.Item>\n        </Form>\n        \n      </div>\n    );\n  }\n\n  handleSubmit = () => {\n\n    this.refKey.form!.validate(valid => {\n      if(valid) {\n        Message({ \n          message: this.props.t('formView.message.submitted'), \n          type: 'success',\n          duration: 1000,\n          onClose: () => this.handleReset()\n        });\n      } else {\n        return false;\n      }\n    });\n  }\n\n  handleReset = () => {\n    this.setState(DEFAULT_STATE, \n      () =>  setTimeout(() => this.refKey.form!.resetFields(), 100)\n    );\n  }\n}\n\nexport default withTranslation()(FormDemo);","import React from 'react';\n\nclass Nested extends React.Component {\n\n    render() {\n        return (\n            <div>Nested</div>\n        )\n    }\n}\n\nexport default Nested;","import React from 'react';\n\n\nexport default class Dynamic extends React.Component {\n\n    render() {\n        return (\n            <div>\n                Dynamic\n            </div>\n        )\n    }\n}","import React from 'react';\n\n\nexport default class RoleOnly extends React.Component {\n\n    render() {\n        return (\n            <div>\n                RoleOnly\n            </div>\n        )\n    }\n}","import React from 'react';\nimport { Route,  BrowserRouter, Switch, Redirect } from 'react-router-dom';\nimport AnimatedRouter from 'react-animated-router';\nimport KeepAlive, { AliveScope } from 'react-activation';\nimport { reaction } from 'mobx';\nimport { inject, observer } from 'mobx-react';\n\nimport { BasicLayout } from '../layouts';\n\nimport Login from './Login';\nimport Dashboard from './Dashboard';\nimport { AuthState } from '../stores/auth';\nimport { AppState } from '../stores/app';\nimport Table from './Table';\nimport Tree from './Tree';\nimport Form from './Form';\nimport Nested from './Nested';\nimport Dynamic from './Dynamic';\nimport RoleOnly from './Dynamic/RoleOnly';\n\nexport interface RouteItem {\n  path: string;\n  name?: string;\n  redirect?: string;\n  hidden?: boolean;\n  component?: any;\n  hasLayout?: boolean;\n  fullPath?: string;\n  meta?: {\n    roles?: string[];\n    title?: string;\n    icon?: string;\n    cached?: boolean;\n    breadcrumb?: boolean;\n    affix?: boolean;\n  };\n  children?: RouteItem[];\n}\n\n\nconst staticRoutes: RouteItem[] = [\n  { \n    path: '/login',  name: 'login', component: Login \n  },\n  {\n    path: '/dashboard', name: 'dashboard', hasLayout: true, component: Dashboard,\n    meta: { icon: 'dashboard', affix: true }\n  },\n  {\n    path: '/example', name: 'example', hasLayout: true,\n    meta: { icon: 'codepen' },\n    children: [\n      {\n        path: '/table', name: 'table', component: Table,\n        meta: { icon: 'table' }\n      },\n      {\n        path: '/tree', name: 'tree', component: Tree,\n        meta: { icon: 'pic-right' },\n      }\n    ]\n  },\n  {\n    path: '/form', name: 'form', hasLayout: true, component: Form,\n    meta: { icon: 'form', cached: true },\n    \n  },\n  {\n    path: '/nested', name: 'nested', hasLayout: true,\n    meta: { icon: 'double-right' },\n    children: [\n      {\n        path: '/lvl1-A', name: 'lvl1-A', component: Nested,\n        meta: { icon: 'double-right' },\n      },\n      {\n        path: '/lvl1-B', name: 'lvl1-B',\n        meta: { icon: 'double-right' },\n        children: [\n          {\n            path: '/lvl2-A', name: 'lvl2-A',component: Nested,\n            meta: { icon: 'double-right' },\n          },\n          {\n            path: '/lvl2-B', name: 'lvl2-B', component: Nested,\n            meta: { icon: 'double-right' }\n          },\n          {\n            path: '/lvl2-C', name: 'lvl2-C',\n            meta: { icon: 'double-right' },\n            children: [\n              { \n                path: '/lvl3-A', name: 'lvl3-A', component: Nested,\n                meta: { icon: 'double-right' }\n              },\n              { \n                path: '/lvl3-B', name: 'lvl3-B', component: Nested,\n                meta: { icon: 'double-right' }\n              }\n            ]\n          },\n        ]\n      },\n    ]\n  }\n];\n\n\nconst dynamicRoutes: RouteItem[] = [\n  {\n    path: '/dynamic', name: 'dynamic', hasLayout: true,\n    meta: { icon: 'box-plot' },\n    children: [\n      {\n        path: '/index', name: 'dynamicIndex', component: Dynamic,\n        meta: { icon: 'box-plot' }\n      },\n      {\n        path: '/adminOnly', name: 'adminOnly', component: RoleOnly,\n        meta: { roles: ['admin'], icon: 'user' }\n      },\n      {\n        path: '/roleAOnly', name: 'roleAOnly', component: RoleOnly,\n        meta: { roles: ['roleA'], icon: 'user' }\n      }\n    ]\n  }\n];\n\ninterface AppRouteProps {\n  auth?: AuthState,\n  app?: AppState,\n}\n\ninterface AppRouteState {\n  blankRoutes: RouteItem[];\n  basicRoutes: RouteItem[]\n}\n\nfunction sortRoutes(routes: RouteItem[], roles: string[]): { blankRoutes: RouteItem[], basicRoutes: RouteItem[] } {\n  const blankRoutes: RouteItem[] = [];\n  const basicRoutes: RouteItem[] = [];\n  routes.forEach(route => {\n\n    route = filterRouteByRoles(route, roles)!;\n\n    if (route.hasLayout) {\n      basicRoutes.push(route);\n    } else {\n      blankRoutes.push(route);\n    }\n  });\n\n  return { blankRoutes, basicRoutes };\n}\n\nfunction filterRouteByRoles(route: RouteItem, roles: string[]): RouteItem | null {\n\n  if (!roles || roles.length === 0) return route;\n\n  if (route.meta && route.meta.roles) {\n    if (!route.meta.roles.find(role => roles.indexOf(role) >= 0)) {\n      return null;\n    }\n  }\n\n  const filteredRoute = Object.assign({}, route);\n  \n  if (filteredRoute.children) {\n    const cRoutes: RouteItem[] = [];\n    filteredRoute.children.forEach(cRoute => {\n      const authorizedRoute = filterRouteByRoles(cRoute, roles);\n      if (authorizedRoute) {\n        cRoutes.push(authorizedRoute);\n      }\n    });\n    filteredRoute.children = cRoutes;\n  }\n\n  return filteredRoute;\n}\n\n@inject('app', 'auth')\n@observer\nclass AppRoute extends React.Component<AppRouteProps, AppRouteState> {\n\n  constructor(props: AppRouteProps) {\n    super(props);\n\n    this.state = sortRoutes(staticRoutes, []);\n  }\n\n  componentDidMount() {\n    reaction(\n      () => this.props.auth!.roles.map(role => role), \n      (roles) => {\n        this.setState(sortRoutes(staticRoutes.concat(dynamicRoutes), roles));\n    });\n  }\n\n  render() {\n\n    const { blankRoutes, basicRoutes } = this.state;\n\n    return (\n      <BrowserRouter>\n        <AliveScope>\n          <Switch>\n            {\n              blankRoutes.map(route => <Route exact key={route.path} path={route.path} component={route.component} />)\n            }\n            {\n              <BasicLayout routes={basicRoutes}>\n                <AnimatedRouter className=\"fadeInOut-enter\">\n                  { this.renderBasicRoutes(basicRoutes) }\n                  <Redirect from='/' to='/dashboard' />\n                </AnimatedRouter>\n              </BasicLayout>\n            }\n          </Switch>\n        </AliveScope>\n      </BrowserRouter>\n    );\n  }\n\n  renderBasicRoutes(routes: RouteItem[], basePath=''): JSX.Element[] {\n\n    let routeNodes: JSX.Element[] = [];\n    routes.forEach(route => {\n      if (route.component) {\n        routeNodes.push(\n          <Route exact key={basePath + route.path} path={basePath +route.path} render={\n            props => (\n              <KeepAlive when={this.props.app!.isCached(route)}>\n                <route.component {...props} />\n              </KeepAlive>\n            )\n          } />\n        )\n      } else {\n        const childrenRouteNodes = this.renderBasicRoutes(route.children!, basePath + route.path);\n        routeNodes = routeNodes.concat(childrenRouteNodes);\n      }\n    });\n    return routeNodes;\n  }\n}\n\nexport default AppRoute;","import axios, { AxiosRequestConfig } from 'axios';\nimport { ApiResponse } from './types';\n\n\nexport function request(config: AxiosRequestConfig): Promise<ApiResponse> {\n\n    return new Promise(resolve => {\n        axios.request(config).then((res) => {\n            console.log(res);\n            if (res.status === 200) {\n                const { errno, data, errmsg } = res.data;\n                resolve({\n                    code: errno === 0 ? 200 : errno ,\n                    data: data,\n                    msg: errmsg\n                });\n            } else {\n                resolve({\n                    code: 500,\n                    data: null,\n                    msg: 'Api Response Error'\n                });\n            }\n        }).catch(e => {\n            resolve({\n                code: 500,\n                data: null,\n                msg: 'Api Request Failed'\n            });\n        });\n    });\n}","import { action } from 'mobx';\nimport { AxiosRequestConfig } from 'axios';\nimport * as api from '../api';\nimport { ActionPayload, ApiResponse } from '../api/types';\n\n\nexport default class Base {\n\n    @action\n    async request(config: AxiosRequestConfig, payload?: ActionPayload): Promise<ApiResponse> {\n        const response = await api.request(config);\n        this.execCallback(payload, response);\n        return response;\n    }\n\n    execCallback(payload?: ActionPayload, response?: ApiResponse): void {\n\n        if (!payload || !payload.callback) return;\n    \n        const { success, fail, complete } = payload.callback;\n        if (response && response.code === 200) {\n            success && success(response.data);\n        } else if (response) {\n            fail && fail(response.code);\n        }\n        complete && complete();\n    }\n}","import Cookie from 'js-cookie';\n\nexport const KEYS = {\n    language: 'language',\n    token: 'token'\n};\n\nexport const setAttr = function(key: string, value: string): void {\n    Cookie.set(key, value);\n}\n\nexport const getAttr = function(key: string): string | undefined {\n    return Cookie.get(key);\n}\n\nexport const removeAttr = function(key: string): void {\n    Cookie.remove(key);\n}","import { observable, action, runInAction } from 'mobx';\nimport { ActionPayload } from '../api/types';\nimport Base from './base';\nimport * as CookieUtil from '../utils/cookie';\nimport { configLocale } from '../lang';\nimport { RouteItem } from '../routes';\n\nexport interface AppState {\n\n    lang: String;\n    updateSetting: Function;\n    \n    cachedViews: RouteItem[];\n    visitedViews: RouteItem[];\n    addView: Function;\n    removeView: Function;\n    removeAllViews: Function;\n    initVisitedViews: Function;\n    isCached: Function;\n}\n\nclass App extends Base {\n\n    @observable lang = CookieUtil.getAttr(CookieUtil.KEYS.language) || 'cn';\n    @observable cachedViews: RouteItem[] = [];\n    @observable visitedViews: RouteItem[] = [];\n\n    @action\n    updateSetting(payload: ActionPayload) {\n\n        const { params } = payload;\n\n        if (params.key === 'lang') {\n            this.updateLang(params.value);\n        }\n\n        super.execCallback(payload);\n    }\n\n    @action\n    updateLang(lang: string) {\n        runInAction('updateLang', () => this.lang = lang);\n        configLocale(lang);\n        CookieUtil.setAttr(CookieUtil.KEYS.language, lang);\n    }\n\n    @action\n    addView(view: RouteItem) {\n        runInAction('addView', () => {\n\n            console.log(this.visitedViews.map(v => v.path), view);\n\n            if (view.meta && view.meta.cached) {\n                if (!this.cachedViews.find(c => c.path === view.path)) {\n                    this.cachedViews.push(view);\n                }\n            }\n            \n            if (!this.visitedViews.find(v => v.path === view.path)) {\n                this.visitedViews.push(view);\n            }\n        });\n    }\n\n    removeView(view: RouteItem) {\n\n        if (view.meta?.affix === true) return;\n\n        console.log('removeView', view);\n        this.removeCacheView(view);\n        this.removeVisitedView(view);\n    }\n\n    @action\n    removeCacheView(view: RouteItem) {\n        runInAction('addView', () => {\n            const views = [...this.cachedViews];\n            const index = views.findIndex(c => c.path === view.path);\n            if (index >= 0) {\n                views.splice(index, 1);\n            }\n            this.cachedViews = views;\n            console.log(this.visitedViews, this.cachedViews);\n        });\n    }\n\n    @action\n    removeVisitedView(view: RouteItem) {\n        runInAction('addView', () => {\n            const views = [...this.visitedViews];\n            const index = views.findIndex(v => v.path === view.path);\n            if (index >= 0) {\n                views.splice(index, 1);\n            }\n            this.visitedViews = views;\n            console.log(this.visitedViews, this.cachedViews);\n        });\n    }\n\n    @action\n    removeAllViews() {\n        runInAction('removeAllView', () => {\n            const affixViews = this.cachedViews.filter(v => v.meta?.affix === true );\n            this.cachedViews = affixViews;\n            this.visitedViews = affixViews;\n        });\n    }\n\n    @action\n    initVisitedViews(views: RouteItem[]) {\n        runInAction('initVisitedViews', () => this.visitedViews = [...views] );\n    }\n\n    isCached(view: RouteItem): boolean {\n\n        if (!view.meta || !view.meta.cached) {\n            return false;\n        }\n        return this.cachedViews.findIndex(v => v.path === view.path) >= 0;\n    }\n}\n\nexport default new App();","import { observable, action, runInAction } from 'mobx';\nimport { AxiosRequestConfig } from 'axios';\nimport Base from './base';\nimport * as CookieUtil from '../utils/cookie';\nimport { ActionPayload, User } from '../api/types';\n\nexport interface AuthState {\n  user: User | null;\n  roles: string[];\n  token: string;\n  login: Function;\n  loginByToken: Function;\n  logout: Function;\n}\n\nclass Auth extends Base {\n\n  @observable roles = [];\n  @observable token = CookieUtil.getAttr(CookieUtil.KEYS.token) || '';\n  @observable user = null;\n\n  @action\n  async login(payload: ActionPayload) {\n\n    const config: AxiosRequestConfig = {\n      method: 'POST',\n      url: '/api/login',\n      data: payload.params\n    };\n\n    const response = await super.request(config, payload);\n    if (response.code === 200) {\n      runInAction('Login', () => this.token = response.data);\n      CookieUtil.setAttr(CookieUtil.KEYS.token, response.data);\n      \n      this.fetchUserInfo(response.data);\n    }\n  }\n\n  @action\n  async loginByToken(payload: ActionPayload) {\n\n    const config: AxiosRequestConfig = {\n      method: 'POST',\n      url: '/api/login?method=token',\n      data: this.token\n    };\n\n    const response = await super.request(config, payload);\n    if (response.code === 200) {\n      runInAction('Login', () => this.token = response.data);\n      CookieUtil.setAttr(CookieUtil.KEYS.token, response.data);\n\n      this.fetchUserInfo(response.data);\n    }\n  }\n\n  @action\n  async fetchUserInfo(token: string) {\n\n    const config: AxiosRequestConfig = {\n      url: '/api/userInfo?token=' + token\n    };\n\n    const response = await super.request(config);\n    if(response.code === 200) {\n      runInAction('fetchUserInfo', () => {\n        this.roles = response.data.roles;\n        this.user = response.data.user;\n      });\n    }\n  }\n\n  @action\n  async logout() {\n    runInAction('Logout', () => {\n      this.token = '';\n      this.roles = [];\n      this.user = null;\n    });\n  }\n}\n\nexport default new Auth();","import { observable, action, runInAction } from 'mobx';\nimport { Article } from '../api/types';\nimport * as api from '../api';\n\nexport interface DemoState {\n    fetchArticles: Function;\n    articles: Article[];\n}\n\nclass Demo {\n    \n    @observable\n    articles: Article[] = [];\n\n    @action\n    async fetchArticles() {\n\n        const url = '/api/article';\n        \n        const response = await api.request({ url });\n\n        runInAction('FetchArticles', () => {\n            if (response.code === 200) {\n                this.articles = response.data;\n            }\n        });\n    }\n}\n\nexport default new Demo();","import React from 'react';\nimport { Provider } from 'mobx-react';\n\nimport 'element-theme-default';\nimport './assets/styles/index.scss';\nimport './assets/icons/iconfont.css';\n\nimport { configLocale } from './lang';\n\nimport './mock';\n\nimport Router from './routes';\nimport * as store from './stores';\n\nconfigLocale(store.app.lang);\n\nfunction App() {\n  return (\n    <Provider {...store}>\n      <Router />\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"NavBar_navbar__Lmk8v\",\"breadcrumb\":\"NavBar_breadcrumb__1GDoW\",\"language\":\"NavBar_language__2bXlp\",\"dropMenu\":\"NavBar_dropMenu__1kB7V\",\"avatar\":\"NavBar_avatar__29X9D\",\"fold\":\"NavBar_fold__MRwDa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuText\":\"#bfcbd9\",\"menuActiveText\":\"#409EFF\",\"subMenuActiveText\":\"#f4f4f5\",\"menuBg\":\"#304156\",\"menuHover\":\"#263445\",\"subMenuBg\":\"#1f2d3d\",\"subMenuHover\":\"#001528\",\"sideBarWidth\":\"210px\",\"basicLayout\":\"Basic_basicLayout__2hBlx\",\"main\":\"Basic_main__1qlT9\",\"header\":\"Basic_header__321bu\",\"content\":\"Basic_content__2gu6K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tagView\":\"TagView_tagView__3pFa_\",\"tag\":\"TagView_tag__3QMjs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"Login_loginPage__k8G5O\",\"loginForm\":\"Login_loginForm__3ujOm\",\"loginButton\":\"Login_loginButton___P9NT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datePicker\":\"Form_datePicker__39WL3\",\"timePicker\":\"Form_timePicker__DGeAP\",\"separator\":\"Form_separator__3IjDk\"};"],"sourceRoot":""}